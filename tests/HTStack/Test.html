<!DOCTYPE html>
<html>
    <head>
        <script>
            window.addEventListener ("load", windowLoadEvent => {
                document.querySelector ("button").addEventListener ("click", buttonClickEvent => {
                    const socket = new WebSocket ("wss://" + window.location.host);
                    for (var eventName of ["close", "error", "message", "open"]) {
                        socket.addEventListener (eventName, event => {
                            console.log (event);
                            var element = document.createElement ("p");
                            element.innerText = event.type + ": " + JSON.stringify (event);
                            document.body.appendChild (element);
                        });
                    }
                });
            });
        </script>
    </head>
    <body>
        <p>This is a test text document to be read by HTStack::Response::sendTo!</p>
        <button>Test WebSocket</button>
    </body>
</html>
